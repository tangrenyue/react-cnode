(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,n,t){e.exports=t.p+"static/media/logo.86f6a7c2.svg"},53:function(e,n,t){e.exports=t(91)},89:function(e,n,t){},90:function(e,n,t){},91:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"changeLoginInfo",function(){return $}),t.d(a,"logout",function(){return z}),t.d(a,"loginWithToken",function(){return C}),t.d(a,"validateToken",function(){return P});var r={};t.r(r),t.d(r,"clearTopicList",function(){return R}),t.d(r,"changeCurPage",function(){return W}),t.d(r,"getTopicList",function(){return X}),t.d(r,"getTopicListAndConcat",function(){return K}),t.d(r,"changeCurTab",function(){return q});var i={};t.r(i),t.d(i,"getTopic",function(){return _e}),t.d(i,"getUserInfo",function(){return Te}),t.d(i,"clearTopicAndAuthor",function(){return Ie});var o=t(0),c=t.n(o),l=t(26),u=t.n(l),s=t(1),p=t(6),d=t(7),f=t(9),g=t(8),h=t(10),m=t(2),b=t(17),v=t(12),x=t(21);function y(){var e=Object(s.a)(["\n  height: 50px;\n  background: #444;\n  header {\n    max-width: 1400px;\n    overflow: hidden;\n    margin: 0 auto;\n    .logo {\n      width: 120px;\n      display: block;\n      margin-top: 8px;\n      margin-right: 20px;\n      float: left;\n      img {\n        display: block;\n        max-width: 100%;\n      }\n    }\n    .input-box {\n      float: left;\n      margin-top: 12px;\n      position: relative;\n      &:hover {\n        .icon-search {\n          transform: scale(-1,1);\n        }\n      }\n      .icon-search {\n        position: absolute;\n        left: 5px;\n        top: 6px;\n        transition: all 0.5s;\n        font-weight: bold;\n      }\n      input {\n        outline: none;\n        box-sizing: border-box;\n        padding: 3px 5px 3px 22px;\n        color: #666;\n        width: 233px;\n        height: 26px;\n        transition: all 0.5s;\n        border: none;\n        font-size: 13px;\n        line-height: 1;\n        border-radius: 15px;\n        background: #888;\n        &:hover, &:focus {\n          background: #fff;\n        }\n      }\n    }\n    .right {\n      float: right;\n      padding-top: 5px;\n      .header-item {\n        float: right;\n        box-sizing: border-box;\n        padding: 10px 15px;\n        line-height: 20px;\n        height: 40px;\n        background: transparent;\n        outline: none;\n        border: none;\n        /* line-height: 40px; */\n        cursor: pointer;\n        color: #ccc;\n        font-size: 13px;\n        &:hover {\n          color: #fff;\n        }\n      }\n    }\n  }\n"]);return y=function(){return e},e}var E=m.a.div(y()),k=t(48),O=t.n(k),j=t(5),w=t.n(j),L=t(11),N=t(23),_=t.n(N),T=_.a.create({baseURL:"https://cnodejs.org/api/v1"}),I=function(e){switch(e){case"ask":return"\u95ee\u7b54";case"share":return"\u5206\u4eab";case"job":return"\u62db\u8058";case"good":return"\u7cbe\u534e";default:return""}},S=function(e){var n=new Date(e),t=(new Date).getTime()-n.getTime();return t<0?"":t/1e3<30?"\u521a\u521a":t/1e3<60?"".concat(parseInt(t/1e3,10),"\u79d2\u524d"):t/6e4<60?"".concat(parseInt(t/6e4,10),"\u5206\u949f\u524d"):t/36e5<24?"".concat(parseInt(t/36e5,10),"\u5c0f\u65f6\u524d"):t/864e5<31?"".concat(parseInt(t/864e5,10),"\u5929\u524d"):t/2592e6<12?"".concat(parseInt(t/2592e6,10),"\u6708\u524d"):"".concat(parseInt(t/31536e6,10),"\u5e74\u524d")},$=function(e){return{type:"login/change_user_info",payload:e}},z=function(){return{type:"login/logout"}},C=function(e){return function(){var n=Object(L.a)(w.a.mark(function n(t){var a,r,i,o,c,l,u;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.post("/accesstoken ",{accesstoken:e});case 2:a=n.sent,r=a.data,i=r.success,o=r.loginname,c=r.id,l=r.avatar_url,i?(u={isLogin:!0,user:{name:o,avatar:l,id:c}},localStorage.setItem("token",e),localStorage.setItem("status",JSON.stringify(u)),t($(u))):localStorage.clear("token");case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},P=function(e){return function(){var n=Object(L.a)(w.a.mark(function n(t){return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T.post("/accesstoken ",{accesstoken:e});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),t(z());case 8:case"end":return n.stop()}},n,null,[[0,5]])}));return function(e){return n.apply(this,arguments)}}()},A=t(3),J=Object(A.fromJS)({isLogin:!1,user:null}),M=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,n=e.isLogin,t=e.logout;return c.a.createElement(E,null,c.a.createElement("header",null,c.a.createElement(v.b,{className:"logo",to:"/"},c.a.createElement("img",{src:O.a,alt:"logo-cnode"})),c.a.createElement("div",{className:"input-box"},c.a.createElement("i",{className:"iconfont icon-search"}),c.a.createElement("input",{type:"text"})),c.a.createElement("div",{className:"right"},n?c.a.createElement("input",{type:"button",onClick:t,className:"header-item",value:"\u9000\u51fa\u767b\u5f55"}):c.a.createElement(v.b,{className:"header-item",to:"/login"},"\u767b\u5f55"),c.a.createElement(v.b,{className:"header-item",to:"/"},"\u8bbe\u7f6e"),c.a.createElement(v.b,{className:"header-item",to:"/"},"\u5173\u4e8e"),c.a.createElement(v.b,{className:"header-item",to:"/"},"API"),c.a.createElement(v.b,{className:"header-item",to:"/"},"\u65b0\u624b\u5165\u95e8"),c.a.createElement(v.b,{className:"header-item",to:"/"},"\u9996\u9875"))))}}]),n}(c.a.PureComponent),D=Object(b.b)(function(e){return{isLogin:e.getIn(["login","isLogin"])}},function(e){return{logout:function(){return localStorage.setItem("token",""),e(a.logout())}}})(M),U={ALL:{label:"\u5168\u90e8",value:"all"},GOOD:{label:"\u7cbe\u534e",value:"good"},SHARE:{label:"\u5206\u4eab",value:"share"},ASK:{label:"\u95ee\u7b54",value:"ask"},JOB:{label:"\u62db\u8058",value:"job"}},R=function(){return{type:"home/clear_topic_list"}},V=function(e,n){return{type:"home/set_topic_list",payload:{tabValue:n,topicList:e}}},B=function(e,n){return{type:"home/concat_topic_list",payload:{tabValue:n,topicList:e}}},W=function(e){return{type:"home/change_cur_page",payload:e}},F=_.a.CancelToken,G=F.source(),H=[],X=function(e,n,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var r=Object(L.a)(w.a.mark(function r(i){var o,c,l;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return H.length&&(G.cancel("\u53d6\u6d88\u524dtab\u4e0b\u7684\u8bf7\u6c42"),G=F.source(),H=[]),i(R()),i(W(2)),o=T.get("/topics",{cancelToken:G.token,params:{page:e,limit:t,mdrender:a,tab:n}}),H.push(o),r.prev=5,r.next=8,o;case 8:if(c=r.sent,!(l=c.data).success){r.next=12;break}return r.abrupt("return",i(V(l.data,n)));case 12:throw new Error("\u8bf7\u6c42\u5931\u8d25",l);case 15:r.prev=15,r.t0=r.catch(5),_.a.isCancel(r.t0)&&console.log("\u6210\u529f\u53d6\u6d88\u8fc7\u671f\u8bf7\u6c42");case 18:return r.abrupt("return",o);case 19:case"end":return r.stop()}},r,null,[[5,15]])}));return function(e){return r.apply(this,arguments)}}()},K=function(e,n,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var r=Object(L.a)(w.a.mark(function r(i){var o,c,l;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i(W(e+1)),o=T.get("/topics",{cancelToken:G.token,params:{page:e,limit:t,mdrender:a,tab:n}}),H.push(o),r.prev=3,r.next=6,o;case 6:if(c=r.sent,!(l=c.data).success){r.next=10;break}return r.abrupt("return",i(B(l.data,n)));case 10:throw new Error("\u8bf7\u6c42\u5931\u8d25",l);case 13:r.prev=13,r.t0=r.catch(3),_.a.isCancel(r.t0)&&console.log("\u6210\u529f\u53d6\u6d88\u8fc7\u671f\u8bf7\u6c42");case 16:return r.abrupt("return",o);case 17:case"end":return r.stop()}},r,null,[[3,13]])}));return function(e){return r.apply(this,arguments)}}()},q=function(e){return{type:"home/change_cur_tab",payload:e}},Q=Object(A.fromJS)({topicList:null,curPage:1,tab:U.ALL,limit:30,mdrender:!0});function Y(){var e=Object(s.a)(["\n  font-size: 13px;\n  background-color: #fff;\n"]);return Y=function(){return e},e}function Z(){var e=Object(s.a)(["\n  height: 20px;\n  line-height: 20px;\n  padding: 10px;\n  background-color: #f6f6f6;\n  color: #444;\n"]);return Z=function(){return e},e}var ee=m.a.div(Z()),ne=m.a.div(Y()),te=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,n=e.header,t=e.title,a=e.children;return c.a.createElement(ne,null,c.a.createElement("div",{className:"header"},n||c.a.createElement(ee,null,t)),c.a.createElement("div",{className:"content"},a))}}]),n}(c.a.PureComponent);function ae(){var e=Object(s.a)(["\nwidth: 100%;\nheight: ",";\n  @keyframes loding {\n    0% {\n      background: #e7e7e7;\n    }\n\n    50% {\n      background: #ccc;\n    }\n\n    100% {\n      background: #e7e7e7;\n    }\n  }\n\n  animation: loding 1.4s infinite;\n"]);return ae=function(){return e},e}te.defaultProps={header:null,title:"",children:[]};var re=m.a.div(ae(),function(e){return e.height||"100%"}),ie=function(e){return c.a.createElement(re,e)};function oe(){var e=Object(s.a)(["\n  height: ",";\n  width: ",";\n  img.inner-img {\n    max-width: 100%;\n    height: auto;\n  }\n"]);return oe=function(){return e},e}var ce=m.a.div(oe(),function(e){return e.height},function(e){return e.width}),le=function(e){function n(){var e,t;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).state={isLoading:!0},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.imgEl,t=this.props.src;n.src=t,n.onload=function(){e.setState({isLoading:!1})}}},{key:"componentWillUnmount",value:function(){this.imgEl.onload=null}},{key:"render",value:function(){var e=this,n=this.state.isLoading,t=this.props,a=t.height,r=t.width,i=t.alt;return c.a.createElement(ce,{height:a,width:r,className:"image"},n?c.a.createElement(ie,{height:a}):null,c.a.createElement("img",{className:"inner-img",style:{display:n?"none":"block"},alt:i,ref:function(n){e.imgEl=n}}))}}]),n}(c.a.PureComponent);le.defaultProps={width:"100%",height:"100%"};var ue=le;function se(){var e=Object(s.a)(["\n  padding: 10px;\n  font-size: 14px;\n  background-color: #fff;\n  .avatar {\n    display: inline-block;\n    height: 48px;\n    width: 48px;\n    margin-right: 10px;\n    vertical-align: middle;\n    img {\n      max-width: 100%;\n      display: block;\n    }\n  }\n  .author-name {\n    color: #778087;\n    font-size: 16px;\n    vertical-align: middle;\n  }\n\n  .author-points{\n    margin-top: 10px;\n  }\n\n  .signature {\n    font-style: italic;\n    font-size: 12px;\n    margin-top: 10px;\n  }\n"]);return se=function(){return e},e}var pe=m.a.div(se()),de=function(e){var n=e.$loginInfo,t=n.get("isLogin"),a=n.get("user");return t?c.a.createElement(te,{title:"\u7528\u6237\u4fe1\u606f"},c.a.createElement(pe,null,c.a.createElement("a",{href:"/",className:"avatar"},c.a.createElement(ue,{src:a.get("avatar"),alt:"avatar"})),c.a.createElement("span",{className:"author-name"},a.get("name")),c.a.createElement("div",{className:"author-points"},"\u79ef\u5206:",a.get("score")),c.a.createElement("div",{className:"signature"},"\u4f5c\u8005\u5f88\u61d2\uff0c\u751a\u81f3\u6ca1\u6709\u5b9e\u73b0\u663e\u793a\u4e2a\u6027\u7b7e\u540d\u529f\u80fd\u3002"))):c.a.createElement(te,{title:"\u7528\u6237\u4fe1\u606f"},c.a.createElement("div",{style:{padding:"10px",fontSize:"14px"}},"\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u767b\u5f55"))};function fe(){var e=Object(s.a)(["\n  padding: 10px;\n  height: 30px;\n  border-bottom: 1px solid #f0f0f0;\n  overflow: hidden;\n  &:hover {\n    background:  #f6f6f6;\n  }\n  .avatar {\n    float: left;\n    width: 30px;\n    height: 30px;\n    margin-right: 5px;\n    img {\n      display: block;\n      max-width: 100%;\n      max-height: 100%;\n    }\n  }\n  .reply-visit {\n    float: left;\n    font-size: 14px;\n    height: 30px;\n    line-height: 30px;\n    margin-right: 5px;\n    .reply {\n      color: #9e78c0;\n    }\n    .visit {\n      font-size: 12px;\n      color: #b4b4b4;\n    }\n  }\n\n  .tab, .top {\n    float: left;\n    padding: 2px 4px;\n    font-size: 12px;\n    margin-top: 8px;\n    margin-right: 8px;\n  }\n  .tab {\n    color: #999999;\n    background: #e5e5e5;\n  }\n  .top {\n    color: #fff;\n    background: #80bd01;\n  }\n  a.title {\n    display: block;\n    float: left;\n    width: 60%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 16px;\n    color: #333;\n    height: 30px;\n    line-height: 30px;\n    &:visited {\n      color: #888888;\n    }\n  }\n  .reply-avatar {\n    float: right;\n    img {\n      display: block;\n      height: 18px;\n      width: 18px;\n      margin-top: 6px;\n      margin-right: 6px;\n    }\n  }\n\n  .date {\n    float: right;\n    color: #778087;\n    font-size: 14px;\n    height: 30px;\n    line-height: 30px;\n  }\n\n"]);return fe=function(){return e},e}var ge=m.a.div(fe()),he=function(e){var n=e.$topic;return c.a.createElement(ge,null,c.a.createElement("div",{className:"avatar"},c.a.createElement(ue,{src:n.getIn(["author","avatar_url"]),alt:"avatar"})),c.a.createElement("div",{className:"reply-visit"},c.a.createElement("span",{className:"reply"},n.get("reply_count")),"\xa0 / \xa0",c.a.createElement("span",{className:"visit"},n.get("visit_count"))),n.get("top")?c.a.createElement("div",{className:"top"},"\u7f6e\u9876"):c.a.createElement("div",{className:"tab"},I(n.get("tab"))),c.a.createElement(v.b,{className:"title",to:"/topic/".concat(n.get("id"))},n.get("title")),c.a.createElement("div",{className:"date"},S(n.get("last_reply_at"))),c.a.createElement("div",{className:"reply-avatar"},c.a.createElement("img",{src:n.getIn(["author","avatar_url"]),alt:"reply-avatar"})))};function me(){var e=Object(s.a)(["\n  box-sizing: border-box;\n  overflow: hidden;\n  width: 100%;\n  background: #f6f6f6;\n  padding: 10px;\n  height: 40px;\n  input[type=button] {\n    float: left;\n    display: block;\n    font-size: 14px;\n    border: none;\n    color: #80bd01 !important;\n    margin: 0 10px;\n    padding: 3px 4px;\n    cursor: pointer;\n    background: transparent;\n    outline: none;\n    &.active {\n      background: #80bd01;\n      color: #fff !important;\n      border-radius: 3px;\n    }\n  }\n"]);return me=function(){return e},e}function be(){var e=Object(s.a)(["\nbackground: #fff;\n"]);return be=function(){return e},e}var ve=m.a.div(be()),xe=m.a.div(me()),ye=function(e){var n=e.$curTab,t=e.onChangeTab,a=e.$list,r=c.a.createElement(xe,null,Object.values(U).map(function(e){return c.a.createElement("input",{type:"button",value:e.label,key:e.label,className:n.get("label")===e.label?"active":"",onClick:function(){return t(e)}})})),i=null==a;return c.a.createElement(te,{header:r},c.a.createElement(ve,null,i?c.a.createElement(ie,{height:"800px"}):a.map(function(e){return c.a.createElement(he,{key:e.get("id"),$topic:e})})))};ye.defaultProps={$list:null};var Ee=ye;function ke(){var e=Object(s.a)(["\n  float: left;\n  width: 285px;\n  margin-left: -285px;\n  position: relative;\n  background: red;\n"]);return ke=function(){return e},e}function Oe(){var e=Object(s.a)(["\n  float: left;\n  padding-right: 300px;\n  width: 100%;\n  box-sizing: border-box;\n"]);return Oe=function(){return e},e}var je=function(e){function n(){var e,t;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=Object(f.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(i)))).state={isLoadingMoreList:!1},t.getMoreTopics=Object(L.a)(w.a.mark(function e(){var n,a,i,o,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isLoadingMoreList:!0}),n=t.props,a=n.curPage,i=n.dispatch,o=n.$curTab,c=n.limit,e.next=4,i(r.getTopicListAndConcat(a,o.get("value"),c));case 4:i(r.changeCurPage(a+1));case 5:case"end":return e.stop()}},e)})),t.infinityLoading=Object(L.a)(w.a.mark(function e(){var n,a,r,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.lastElRef){e.next=3;break}return e.abrupt("return");case 3:if(a=document.documentElement.scrollTop,r=document.documentElement.clientHeight,i=n.offsetTop,!(a+r>=.9*i)||t.isGettingMoreList){e.next=12;break}return t.isGettingMoreList=!0,e.next=10,t.getMoreTopics();case 10:t.isGettingMoreList=!1,t.setState({isLoadingMoreList:!1});case 12:case"end":return e.stop()}},e)})),t.handleOnChangeTab=function(e){var n=t.props.dispatch;n(r.changeCurTab(e));var a=t.props.limit;n(r.getTopicList(1,e.value,a))},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props,t=n.curPage,a=n.$topicList,i=n.dispatch,o=n.$curTab,c=n.limit;null!=a&&this.bindEvents(),null==a&&i(r.getTopicList(t,o.get("value"),c)).then(function(){e.bindEvents()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.infinityLoading)}},{key:"bindEvents",value:function(){window.addEventListener("scroll",this.infinityLoading)}},{key:"render",value:function(){var e=this,n=this.props,t=n.$topicList,a=n.$loginInfo,r=n.$curTab,i=this.state.isLoadingMoreList;return c.a.createElement(c.a.Fragment,null,c.a.createElement(we,null,c.a.createElement(Ee,{onChangeTab:this.handleOnChangeTab,$curTab:r,$list:t}),i?c.a.createElement(ie,{height:"800px"}):null,c.a.createElement("div",{className:"infinity-load",ref:function(n){e.lastElRef=n}})),c.a.createElement(Le,null,c.a.createElement(de,{$loginInfo:a})))}}]),n}(c.a.PureComponent);je.defaultProps={$topicList:null,$loginInfo:null};var we=m.a.div(Oe()),Le=m.a.div(ke()),Ne=Object(b.b)(function(e){return{$topicList:e.getIn(["home","topicList"]),$loginInfo:e.getIn(["login"]),$curTab:e.getIn(["home","tab"]),curPage:e.getIn(["home","curPage"]),limit:e.getIn(["home","limit"]),isLogin:e.getIn(["login","isLogin"])}},null)(je),_e=function(e){return function(){var n=Object(L.a)(w.a.mark(function n(t){var a,r;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.get("/topic/".concat(e));case 2:if(a=n.sent,!(r=a.data).success){n.next=6;break}return n.abrupt("return",t({type:"detail/change_topic",payload:r.data}));case 6:throw new Error("\u8bf7\u6c42\u5931\u8d25",r);case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Te=function(e){return function(){var n=Object(L.a)(w.a.mark(function n(t){var a,r;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.get("/user/".concat(e));case 2:if(a=n.sent,!(r=a.data).success){n.next=6;break}return n.abrupt("return",t({type:"detail/change_author",payload:r.data}));case 6:throw new Error("\u8bf7\u6c42\u5931\u8d25",r);case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Ie=function(){return{type:"detail/clear_topic_author"}},Se=Object(A.fromJS)({topic:null,author:null});function $e(){var e=Object(s.a)(["\n  padding: 10px;\n"]);return $e=function(){return e},e}function ze(){var e=Object(s.a)(['\n  border-bottom: 1px solid #e5e5e5;\n  padding: 10px;\n  .top {\n    display: inline-block;\n    background: #80bd01;\n    padding: 2px 4px;\n    border-radius: 3px;\n    color: #fff;\n    font-size: 12px;\n    margin-right: 6px;\n  }\n  .text {\n    display: inline-block;\n    font-size: 22px;\n    font-weight: 700;\n    margin: 8px auto;\n    height: 31px;\n    line-height: 31px;\n  }\n  .topic-info {\n    overflow: hidden;\n    .info-item {\n      display: inline-block;\n      font-size: 12px;\n      color: #838383;\n      margin-right: 2px;\n      &::before {\n        content: "\u2022";\n        margin-right: 2px;\n      }\n    }\n    .star-btn {\n      display: block;\n      line-height: 28px;\n      float: right;\n      padding: 3px 10px;\n      color: #fff;\n      background-color: #80bd01;\n      border-radius: 3px;\n      border: none;\n      outline: none;\n      font-size: 14px;\n      cursor: pointer;\n      transition: all 0.5s;\n      &:hover {\n        color: #fff;\n        background-color: #6ba44e;\n      }\n    }\n  }\n']);return ze=function(){return e},e}function Ce(){var e=Object(s.a)(["\n  padding: 10px;\n"]);return Ce=function(){return e},e}var Pe=m.a.article(Ce()),Ae=m.a.header(ze()),Je=(m.a.section($e()),function(e){return c.a.createElement(Ae,null,e.get("top")?c.a.createElement("div",{className:"top"},"\u7f6e\u9876"):null,c.a.createElement("h1",{className:"text"},e.get("title")),c.a.createElement("div",{className:"topic-info"},c.a.createElement("span",{className:"info-item last-reply-date"},"\u53d1\u5e03\u4e8e\xa0",S(e.get("create_at"))),c.a.createElement("span",{className:"info-item author"},"\u4f5c\u8005\xa0",e.getIn(["author","loginname"])),c.a.createElement("span",{className:"info-item visit"},e.get("visit_count"),"\xa0\u6b21\u6d4f\u89c8"),c.a.createElement("span",{className:"info-item sub"},"\u6765\u81ea\xa0",I(e.get("tab"))),c.a.createElement("input",{className:"star-btn",type:"button",value:"\u6536\u85cf"})))}),Me=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props.$topic;return c.a.createElement(te,{header:Je(e)},c.a.createElement(Pe,{dangerouslySetInnerHTML:{__html:e.get("content")},className:"markdown-body topic-content"}))}}]),n}(c.a.PureComponent);function De(){var e=Object(s.a)(["\n  background: #fff;\n"]);return De=function(){return e},e}function Ue(){var e=Object(s.a)(["\n  overflow: hidden;\n  padding: 10px;\n  border-top: 1px solid #f0f0f0;\n  .reply-content-wrapper {\n    float: left;\n    width: 100%;\n    .reply-content {\n      margin-left: 40px;\n      margin-right: 50px;\n      font-size: 12px;\n      .reply-info-item {\n        margin-right: 4px;\n      }\n      .reply-author {\n        color: #666;\n        font-weight: 700;\n      }\n      .reply-date {\n        color:  #08c;\n        font-size: 11px;\n      }\n      .reply-is-author {\n        color: #fff;\n        background-color: #6ba44e;\n        padding: 2px;\n      }\n      .content {\n        padding: 10px;\n      }\n    }\n  }\n\n  .avatar {\n    float: left;\n    width: 30px;\n    height: 30px;\n    margin-left: -100%;\n  }\n  .addition {\n    float: left;\n    width: 50px;\n    margin-left: -50px;\n  }\n"]);return Ue=function(){return e},e}var Re=m.a.div(Ue()),Ve=m.a.div(De()),Be=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props.$topic,n=e.get("replies");return c.a.createElement(te,{title:"".concat(n.size," \u56de\u590d")},c.a.createElement(Ve,null,n.map(function(n,t){return function(e,n,t){var a=e.getIn(["author","loginname"])===t.get("loginname");return c.a.createElement(Re,{className:"reply-list-item",key:e.get("id")},c.a.createElement("div",{className:"reply-content-wrapper"},c.a.createElement("div",{className:"reply-content"},c.a.createElement("span",{className:"reply-info-item reply-author"},e.getIn(["author","loginname"])),c.a.createElement("span",{className:"reply-info-item reply-date"},n+1,"\u697c\u2022",S(e.get("create_at"))),a?c.a.createElement("span",{className:"reply-info-item reply-is-author"},"\u4f5c\u8005"):null,c.a.createElement("div",{className:"content markdown-body",dangerouslySetInnerHTML:{__html:e.get("content")}}))),c.a.createElement("div",{className:"avatar"},c.a.createElement(ue,{src:e.getIn(["author","avatar_url"]),alt:"reply-avtar"})),c.a.createElement("div",{className:"addition"},c.a.createElement("i",{className:"iconfont icon-reply"}),c.a.createElement("i",{className:"iconfont icon-lie"})))}(n,t,e.get("author"))})))}}]),n}(c.a.PureComponent);function We(){var e=Object(s.a)(["\n  padding: 10px;\n  font-size: 14px;\n  background-color: #fff;\n  .avatar {\n    display: inline-block;\n    height: 48px;\n    width: 48px;\n    margin-right: 10px;\n    vertical-align: middle;\n    img {\n      max-width: 100%;\n      display: block;\n    }\n  }\n  .author-name {\n    color: #778087;\n    font-size: 16px;\n    vertical-align: middle;\n  }\n\n  .author-points{\n    margin-top: 10px;\n  }\n\n  .signature {\n    font-style: italic;\n    font-size: 12px;\n    margin-top: 10px;\n  }\n"]);return We=function(){return e},e}var Fe=m.a.div(We()),Ge=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,n=e.$topic,t=e.$author,a=!1,r=!1,i=n.get("author");return null==n?(r=!0,a=!0):null==t&&(a=!0),r?c.a.createElement(ie,{height:"200px"}):c.a.createElement(te,{title:"\u4f5c\u8005"},c.a.createElement(Fe,null,c.a.createElement("a",{href:"/",className:"avatar"},c.a.createElement(ue,{src:i.get("avatar_url"),alt:"avatar"})),c.a.createElement("span",{className:"author-name"},i.get("loginname")),c.a.createElement("div",{className:"author-points"},a?c.a.createElement(ie,{height:"10px"}):"\u79ef\u5206:".concat(t.get("score"))),c.a.createElement("div",{className:"signature"},"\u4f5c\u8005\u5f88\u61d2\uff0c\u751a\u81f3\u6ca1\u6709\u5b9e\u73b0\u663e\u793a\u4e2a\u6027\u7b7e\u540d\u529f\u80fd\u3002")))}}]),n}(c.a.PureComponent);Ge.defaultProps={$author:null,$topic:null};var He=Ge;function Xe(){var e=Object(s.a)(["\n  float: left;\n  width: 285px;\n  margin-left: -285px;\n  position: relative;\n  background: red;\n"]);return Xe=function(){return e},e}function Ke(){var e=Object(s.a)(["\n  float: left;\n  padding-right: 300px;\n  width: 100%;\n  box-sizing: border-box;\n"]);return Ke=function(){return e},e}var qe=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(L.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getTopicAndAuthorData();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(i.clearTopicAndAuthor())}},{key:"getTopicAndAuthorData",value:function(){var e=Object(L.a)(w.a.mark(function e(){var n,t,a,r,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,t=n.dispatch,null==(a=n.match.params.id)){e.next=7;break}return e.next=4,t(i.getTopic(a));case 4:r=e.sent,o=r.payload.author.loginname,t(i.getUserInfo(o));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,n=e.$topic,t=e.$author,a=!1;return null===n&&(a=!0),c.a.createElement(c.a.Fragment,null,c.a.createElement(Qe,null,a?c.a.createElement(ie,{height:"100vh"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(Me,{$topic:n}),c.a.createElement(Be,{$topic:n}))),c.a.createElement(Ye,null,a?c.a.createElement(ie,{height:"200px"}):c.a.createElement(He,{$author:t,$topic:n})))}}]),n}(o.PureComponent);qe.defaultProps={$topic:null,$author:null};var Qe=m.a.div(Ke()),Ye=m.a.div(Xe()),Ze=Object(b.b)(function(e){return{$topic:e.getIn(["detail","topic"]),$author:e.getIn(["detail","author"])}},null)(qe);function en(){var e=Object(s.a)(["\n  background-color: #fff;\n  padding: 30px 0;\n  .token {\n    display: block;\n    margin: 0 auto;\n    width: 80%;\n    height: 40px;\n    box-sizing: border-box;\n    border: none;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n    padding: 10px;\n  }\n  .login {\n    width: 80%;\n    height: 40px;\n    display: block;\n    margin: 0 auto;\n    margin-top: 40px;\n    background-color: #80bd01;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    outline: none;\n    cursor: pointer;\n    &:hover {\n      background: #6ba44e;\n    }\n  }\n"]);return en=function(){return e},e}var nn=m.a.div(en()),tn=function(e){function n(){var e,t;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).state={token:""},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.loginByToken,n=localStorage.getItem("token");n&&e(n)}},{key:"render",value:function(){var e=this,n=this.state.token,t=this.props,a=t.loginByToken;return t.isLogin?c.a.createElement(x.a,{to:"/"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(te,{title:"\u767b\u5f55"},c.a.createElement(nn,null,c.a.createElement("input",{value:n,onChange:function(n){return e.setState({token:n.target.value})},className:"token",type:"text",placeholder:"access-token"}),c.a.createElement("input",{onClick:function(){return a(n)},className:"login",type:"button",value:"\u767b\u5f55"}))))}}]),n}(o.PureComponent),an=Object(b.b)(function(e){return{isLogin:e.getIn(["login","isLogin"])}},function(e){return{loginByToken:function(n){return e(a.loginWithToken(n))}}})(tn),rn=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(o.Component),on=Object(x.f)(rn),cn=t(22),ln=t(50),un=t(51),sn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||cn.c,pn=Object(un.combineReducers)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"home/change_topic_list":var t=n.payload,a=t.tabValue,r=t.topicList,i=e.get("tab").get("value");return a&&a===i?null!=e.get("topicList")?e.set("topicList",e.get("topicList").concat(Object(A.fromJS)(r))):e.set("topicList",Object(A.fromJS)(r)):e.set();case"home/set_topic_list":var o=n.payload,c=o.tabValue,l=o.topicList,u=e.get("tab").get("value");return c&&c===u?e.set("topicList",Object(A.fromJS)(l)):e.set();case"home/concat_topic_list":var s=n.payload,p=s.tabValue,d=s.topicList,f=e.get("tab").get("value");if(!p||p!==f)return e.set();if(null!=e.get("topicList"))return e.set("topicList",e.get("topicList").concat(Object(A.fromJS)(d)));throw new Error("\u8bf7\u786e\u5b9atopicList != null\u65f6\u518d\u8fdb\u884c\u8fde\u63a5\u64cd\u4f5c");case"home/change_cur_tab":return e.set("tab",Object(A.fromJS)(n.payload));case"home/clear_topic_list":return e.merge({topicList:null,curPage:1});case"home/change_cur_page":return e.set("curPage",n.payload)}return e.set()},detail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"detail/change_topic":return e.set("topic",Object(A.fromJS)(n.payload));case"detail/change_author":return e.set("author",Object(A.fromJS)(n.payload));case"detail/clear_topic_author":return e.merge(Object(A.fromJS)({topic:null,author:null}))}return e.set()},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"login/change_user_info":return e.merge(Object(A.fromJS)(n.payload));case"login/logout":return e.merge(Object(A.fromJS)({isLogin:!1,user:{}}))}return e.set()}}),dn=Object(cn.d)(pn,sn(Object(cn.a)(ln.a)));function fn(){var e=Object(s.a)(["\n  margin: 0 auto;\n  padding: 15px 0;\n  overflow: hidden;\n  width: 90%;\n"]);return fn=function(){return e},e}function gn(){var e=Object(s.a)(["\n  min-height: 100vh;\n  background: #e1e1e1;\n"]);return gn=function(){return e},e}var hn=function(e){function n(){return Object(p.a)(this,n),Object(f.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){this.initLoginStatus()}},{key:"initLoginStatus",value:function(){var e=localStorage.getItem("token");if(e){var n=this.props.dispatch,t=JSON.parse(localStorage.getItem("status"));n(a.validateToken(e)),n(a.changeLoginInfo(t))}}},{key:"render",value:function(){return c.a.createElement(v.a,null,c.a.createElement(on,null,c.a.createElement(mn,null,c.a.createElement(D,null),c.a.createElement(bn,{className:"main-content-wrapper"},c.a.createElement(x.d,null,c.a.createElement(x.b,{path:"/",exact:!0,component:Ne}),c.a.createElement(x.b,{path:"/topic/:id",exact:!0,component:Ze}),c.a.createElement(x.b,{path:"/login",exact:!0,component:an}))))))}}]),n}(c.a.PureComponent),mn=m.a.div(gn()),bn=m.a.div(fn()),vn=Object(b.b)(null,null)(hn),xn=function(){return c.a.createElement(b.a,{store:dn},c.a.createElement(vn,null))};t(88),t(89),t(90);u.a.render(c.a.createElement(xn),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.2684a16f.chunk.js.map